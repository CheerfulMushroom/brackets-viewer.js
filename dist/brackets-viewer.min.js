!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1);const r=n(2);window.bracketsViewer=new class{constructor(){this.teamRefsDOM={}}render(e){const t=$("#root");if(0===t.length)throw Error('Root not found. You must have a root element with id "root"');switch(e.stage.type){case"round_robin":this.renderRoundRobin(t,e);break;case"single_elimination":case"double_elimination":this.renderElimination(t,e);break;default:throw Error("Unknown bracket type: "+e.stage.type)}}renderRoundRobin(e,t){t.participants.map(e=>this.teamRefsDOM[e.id]=[]),this.participants=t.participants;const n=$('<div class="round-robin">');let s=1;for(const e of r.splitBy(t.matches,"group_id")){const t=$('<div class="group">').append($("<h2>").text("Group "+s++));let o=1;for(const n of r.splitBy(e,"round_id")){const e=$("<div>").append($("<h3>").text("Round "+o));for(const t of n)e.append(this.renderMatch(t));t.append(e),o++}n.append(t)}e.append($("<h1>").text(t.stage.name)),e.append(n)}renderElimination(e,t){t.participants.map(e=>this.teamRefsDOM[e.id]=[]);const n=r.splitBy(t.matches,"group_id");if(this.participants=t.participants,e.append($("<h1>").text(t.stage.name)),"single_elimination"===t.stage.type){const t=!!n[1];this.renderGroup(e,r.splitBy(n[0],"round_id"),e=>"Round "+e),t&&this.renderFinal("consolation_final",n[1])}else if("double_elimination"===t.stage.type){const t=!!n[2];this.renderGroup(e,r.splitBy(n[0],"round_id"),e=>"WB Round "+e,!1,t),this.renderGroup(e,r.splitBy(n[1],"round_id"),e=>"LB Round "+e,!0),t&&this.renderFinal("grand_final",n[2])}}renderGroup(e,t,n,r,s){const o=$('<div class="bracket">');let i=1;for(const e of t){const a=$('<div class="round">').append($("<h3>").text(n(i)));for(const n of e){let e;e=r?{connectPrevious:i>1&&(i%2==1?"square":"straight"),connectNext:i<t.length&&(i%2==0?"square":"straight")}:{connectPrevious:i>1&&"square",connectNext:i<t.length?"square":!!s&&"straight"},a.append(this.renderMatch(n,e))}o.append(a),i++}e.append(o)}renderFinal(e,t){const n=$(".bracket").eq(0),r=1===t.length?()=>"Grand Final":e=>"Grand Final R"+(e+1);for(let s=0;s<t.length;s++){const o=this.renderMatch(t[s],{connectPrevious:"grand_final"===e&&0===s&&"straight",connectNext:2===t.length&&0===s&&"straight"}),i=$('<div class="round">').append($("<h3>").text("grand_final"===e?r(s):"Consolation Final"));i.append(o),n.append(i)}}renderMatch(e,t){const n=this.renderTeam(e.opponent1),r=this.renderTeam(e.opponent2),s=$('<div class="teams">').append(n).append(r),o=$('<div class="match">').append(s);return t?(t.connectPrevious&&s.addClass("connect-previous"),t.connectNext&&o.addClass("connect-next"),"straight"===t.connectPrevious&&s.addClass("straight"),"straight"===t.connectNext&&o.addClass("straight"),o):o}renderTeam(e){const t=$('<div class="team">'),n=$('<div class="name">'),r=$('<div class="score">');if(null===e)n.text("BYE");else{const t=this.participants.find(t=>t.id===e.id);n.text(void 0===t?"TBD":t.name),r.text(e.score||"-"),e.result&&"win"===e.result&&(n.addClass("win"),r.addClass("win")),e.result&&"loss"===e.result&&(n.addClass("loss"),r.addClass("loss"))}if(t.append(n).append(r),e&&null!==e.id){const n=e.id;this.teamRefsDOM[n].push(t.get(0)),t.hover(()=>$(this.teamRefsDOM[n]).addClass("hover"),()=>$(this.teamRefsDOM[n]).removeClass("hover"))}return t}}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitBy=void 0,t.splitBy=function(e,t){const n=Object();for(const r of e)n[r[t]]||(n[r[t]]=[]),n[r[t]].push(r);return Object.values(n)}}]);