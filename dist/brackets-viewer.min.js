!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1);const o=n(2);window.bracketsViewer=new class{constructor(){this.teamRefsDOM={}}render(e,t,n){const o=document.querySelector(e);if(!o)throw Error('Root not found. You must have a root element with id "root"');switch(this.config={participantOriginPlacement:n&&n.participantOriginPlacement||"before",showSlotsOrigin:n&&n.showSlotsOrigin||!0,showLowerBracketSlotsOrigin:n&&n.showLowerBracketSlotsOrigin||!1},t.stage.type){case"round_robin":this.renderRoundRobin(o,t);break;case"single_elimination":case"double_elimination":this.renderElimination(o,t);break;default:throw Error("Unknown bracket type: "+t.stage.type)}}renderRoundRobin(e,t){t.participants.map(e=>this.teamRefsDOM[e.id]=[]),this.participants=t.participants;const n=document.createElement("div");n.classList.add("round-robin");let i=1;for(const e of o.splitBy(t.matches,"group_id")){const t=document.createElement("h2");t.innerText="Group "+i++;const r=document.createElement("section");r.classList.add("group"),r.append(t);let s=1;for(const t of o.splitBy(e,"round_id")){const e=document.createElement("h3");e.innerText="Round "+s;const n=document.createElement("article");n.classList.add("round"),n.append(e);for(const e of t)n.append(this.renderMatch(e));r.append(n),s++}r.append(this.renderTable(e)),n.append(r)}const r=document.createElement("h1");r.innerText=t.stage.name,e.append(r,n)}renderTable(e){const t=o.getRanking(e),n=document.createElement("table"),i=document.createElement("tr");for(const e in t[0]){const t=o.rankingHeader(e),n=document.createElement("th");n.innerText=t.value,n.setAttribute("title",t.tooltip),i.append(n)}n.append(i);for(const e of t){const t=document.createElement("tr");for(const n in e){let o=e[n];if("id"===n){const e=this.participants.find(e=>e.id===o);if(void 0!==e){const n=document.createElement("td");n.innerText=e.name;const o=e.id;this.teamRefsDOM[o].push(n),n.addEventListener("mouseover",()=>{this.teamRefsDOM[o].forEach(e=>e.classList.add("hover"))}),n.addEventListener("mouseleave",()=>{this.teamRefsDOM[o].forEach(e=>e.classList.remove("hover"))}),t.append(n);continue}}const i=document.createElement("td");i.innerText=String(o),t.append(i)}n.append(t)}return n}renderElimination(e,t){t.participants.map(e=>this.teamRefsDOM[e.id]=[]);const n=o.splitBy(t.matches,"group_id");this.participants=t.participants;const i=document.createElement("h1");if(i.innerText=t.stage.name,e.append(i),"single_elimination"===t.stage.type){const t=!!n[1];this.renderBracket(e,o.splitBy(n[0],"round_id"),e=>"Round "+e),t&&this.renderFinal("consolation_final",n[1])}else if("double_elimination"===t.stage.type){const t=!!n[2];this.renderBracket(e,o.splitBy(n[0],"round_id"),e=>"WB Round "+e,!1,t),this.renderBracket(e,o.splitBy(n[1],"round_id"),e=>"LB Round "+e,!0),t&&this.renderFinal("grand_final",n[2])}}renderBracket(e,t,n,o,i){const r=t.length,s=document.createElement("section");s.classList.add("bracket");let a=1;for(const e of t){const c=document.createElement("h3");c.innerText=n(a);const d=document.createElement("article");d.classList.add("round"),d.append(c);for(const n of e){const e=this.getConnection(o,a,t,i),s=this.getMatchLabel(n,a,r,o),c=this.getMatchHint(o,a,r);d.append(this.renderMatch(n,e,s,c,o))}s.append(d),a++}e.append(s)}getMatchHint(e,t,n){if(!e&&1===t)return e=>"Seed "+e;if(e&&o.isMajorRound(t)){const e=Math.ceil((t+1)/2);let o=t=>`Loser of WB ${e}.${t}`;return t===n-2&&(o=e=>"Loser of WB Semi "+e),t===n&&(o=()=>"Loser of WB Final"),o}}getConnection(e,t,n,o){return e?{connectPrevious:t>1&&(t%2==1?"square":"straight"),connectNext:t<n.length&&(t%2==0?"square":"straight")}:{connectPrevious:t>1&&"square",connectNext:t<n.length?"square":!!o&&"straight"}}getMatchLabel(e,t,n,o){let i="M";o?i="LB":!1===o&&(i="WB");const r=t===n-1,s=t===n;let a=`${i} ${t}.${e.number}`;return!o&&r&&(a="Semi "+e.number),s&&(a="Final"),a}renderFinal(e,t){const n=document.querySelector(".bracket");if(!n)throw Error("Upper bracket not found.");const o=e=>0===e?()=>"Winner of LB Final":void 0,i=1===t.length?()=>"Grand Final":e=>"GF Round "+(e+1);for(let r=0;r<t.length;r++){const s="consolation_final"===e?"Consolation Final":i(r),a="consolation_final"===e?e=>"Loser of Semi "+e:o(r),c=this.renderMatch(t[r],{connectPrevious:"grand_final"===e&&0===r&&"straight",connectNext:2===t.length&&0===r&&"straight"},s,a,void 0),d=document.createElement("h3");d.innerText="grand_final"===e?i(r):"Consolation Final";const l=document.createElement("article");l.classList.add("round"),l.append(d,c),n.append(l)}}renderMatch(e,t,n,o,i){i=i||!1;const r=this.renderTeam(e.opponent1,o,i),s=this.renderTeam(e.opponent2,o,i),a=document.createElement("div");if(a.classList.add("teams"),n){const e=document.createElement("span");e.innerText=n,a.append(e)}a.append(r,s);const c=document.createElement("div");return c.classList.add("match"),c.append(a),t?(t.connectPrevious&&a.classList.add("connect-previous"),t.connectNext&&c.classList.add("connect-next"),"straight"===t.connectPrevious&&a.classList.add("straight"),"straight"===t.connectNext&&c.classList.add("straight"),c):c}renderTeam(e,t,n){const o=document.createElement("div");o.classList.add("team");const i=document.createElement("div");i.classList.add("name");const r=document.createElement("div");if(r.classList.add("result"),null===e)i.innerText="BYE";else{const o=this.participants.find(t=>t.id===e.id);o?(i.innerText=o.name,this.renderTeamOrigin(i,e,n)):t&&e.position&&this.renderHint(i,t(e.position)),r.innerText=void 0===e.score?"-":String(e.score),e.result&&"win"===e.result&&(i.classList.add("win"),r.classList.add("win"),void 0===e.score&&(r.innerText="W")),(e.result&&"loss"===e.result||e.forfeit)&&(i.classList.add("loss"),r.classList.add("loss"),e.forfeit?r.innerText="F":void 0===e.score&&(r.innerText="L"))}if(o.append(i,r),e&&null!==e.id){const t=e.id;this.teamRefsDOM[t].push(o),o.addEventListener("mouseover",()=>{this.teamRefsDOM[t].forEach(e=>e.classList.add("hover"))}),o.addEventListener("mouseleave",()=>{this.teamRefsDOM[t].forEach(e=>e.classList.remove("hover"))})}return o}renderHint(e,t){e.classList.add("hint"),e.innerText=t}renderTeamOrigin(e,t,n){if(void 0===t.position)return;if("none"===this.config.participantOriginPlacement)return;if(!this.config.showSlotsOrigin)return;if(!this.config.showLowerBracketSlotsOrigin&&n)return;const o=n?"P"+t.position:"#"+t.position;this.addTeamOrigin(e,o,this.config.participantOriginPlacement)}addTeamOrigin(e,t,n){const o=document.createElement("span");"before"===n?(o.innerText=t+" ",e.prepend(o)):(o.innerText=` (${t})`,e.append(o))}}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRanking=t.rankingHeader=t.isMajorRound=t.splitBy=void 0,t.splitBy=function(e,t){const n=Object();for(const o of e)n[o[t]]||(n[o[t]]=[]),n[o[t]].push(o);return Object.values(n)};const o={rank:{value:"#",tooltip:"Rank"},id:{value:"Name",tooltip:"Name"},played:{value:"P",tooltip:"Played"},wins:{value:"W",tooltip:"Wins"},draws:{value:"D",tooltip:"Draws"},losses:{value:"L",tooltip:"Losses"},forfeits:{value:"F",tooltip:"Forfeits"},scoreFor:{value:"SF",tooltip:"Score For"},scoreAgainst:{value:"SA",tooltip:"Score Against"},scoreDifference:{value:"+/-",tooltip:"Score Difference"},points:{value:"Pts",tooltip:"Points"}};t.isMajorRound=function(e){return 1===e||e%2==0},t.rankingHeader=function(e){return o[e]},t.getRanking=function(e,t){const n={};function o(e,o){if(!e||null===e.id)return;const i=n[e.id]||{rank:0,id:0,played:0,wins:0,draws:0,losses:0,forfeits:0,scoreFor:0,scoreAgainst:0,scoreDifference:0,points:0};i.id=e.id,i.played++,"win"===e.result&&i.wins++,"draw"===e.result&&i.draws++,"loss"===e.result&&i.losses++,e.forfeit&&i.forfeits++,i.scoreFor+=e.score||0,i.scoreAgainst+=o&&o.score||0,i.scoreDifference=i.scoreFor-i.scoreAgainst;const r=t||(e=>3*e.wins+1*e.draws+0*e.losses);i.points=r(i),n[e.id]=i}for(const t of e)o(t.opponent1,t.opponent2),o(t.opponent2,t.opponent1);const i=Object.values(n).sort((e,t)=>t.points-e.points);let r={value:0,lastPoints:-1};for(const e of i)e.rank=r.lastPoints!==e.points?++r.value:r.value,r.lastPoints=e.points;return i}}]);