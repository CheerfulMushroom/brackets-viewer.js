<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.slim.min.js"></script>

<link rel="stylesheet" href="../dist/brackets-viewer.min.css" />
<script type="text/javascript" src="../dist/brackets-viewer.min.js"></script>

<div id="root">
    <noscript>Oops! Something went wrong.</noscript>
</div>

<script>
    (async function () {
        const stage = (await fetch('http://localhost:3000/stage?number=1').then(res => res.json()))[0];
        const data = await fetch('http://localhost:3000/db').then(res => res.json());

        bracketsViewer.render({
            stage,
            groups: data.group,
            rounds: data.round,
            matches: data.match,
            matchGames: data.match_game,
            participants: data.participant,
        });
    })();
</script>